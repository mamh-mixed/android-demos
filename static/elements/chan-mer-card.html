<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-shadow/paper-shadow.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/core-icon/core-icon.html">
<link rel="import" href="../bower_components/core-icon-button/core-icon-button.html">
<polymer-element name="chan-mer-card">
    <template>
        <style>
            :host {
                display: block;
                position: relative;
                width: 100%;
            }

            .container {
                margin-bottom: 20px;
            }
            .container .content{
                padding: 24px 16px 16px;
            }
            .choose-btn {
                color: #4285f4;
            }
        </style>
        <paper-shadow z="1">
            <div class="container">
                <div class="content">
                    <content></content>
                </div>
                <div class="action">
                    <core-icon-button class="choose-btn" on-tap="{{chosenTapped}}" icon="">选择该渠道商户</core-icon-button>
                </div>
            </div>
        </paper-shadow>
    </template>
    <script>
        Polymer({
            publish: {
                isReadMore: {
                    value: false,
                    reflect: true
                }
            },
            chosenTapped: function(event, detail, sender) {
                this.fire('chosen-tap');
            },
            // 展开查看更多信息
            expandMore: function(e, d, s) {
                // 到后台加载更多信息
                var ajax = this.$.routerAjax;
                ajax.params = '{"merId":"' + this.identity + '"}';
                ajax.go();
                this.isReadMore = true;
            },
            // 收起更多信息
            expandLess: function(e, d, s) {
                this.isReadMore = false;
            },
            chooseMerchant: function(e, d, s) {

            },
            // 查找路由信息
            onRouterAjaxResponse: function() {
                var response = this.$.routerAjax.response;
                if (response.status === 0) {
                    this.routers = response.data.slice(0)
                }
            }
        });
    </script>
</polymer-element>
