<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../layouts/scaffold-layout.html">
<link rel="import" href="../elements/config-merchant/config-merchant.html">

<dom-module id="config-merchant-page">
  <style>
    :host {
      display: block;
    }
  </style>
  <template>
    <scaffold-layout route$="[[route]]">
      <config-merchant class="content" mer-id="[[merId]]"></config-merchant>
    </scaffold-layout>
  </template>
  <script>
    (function() {
      Polymer({
        is: 'config-merchant-page',
        properties: {
          merId: {
            type: String
          },
          route: {
            type: Object,
            value: {
              name: 'config.configMer',
              path: '/config/configMer',
              title: '配置扫码支付门店信息和渠道',
              subtitle: '录入门店信息，配置渠道商户（微信、支付宝、QQ 钱包）'
            }
          }
        },
        observers: [
          'watchMerId(merId)'
        ],
        watchMerId: function(merId) {
          console.log(merId);
          this.set('route', {
            name: 'config.merchant',
            path: '/config/merchant/:merId',
            title: '变更扫码支付门店信息和渠道',
            subtitle: '变更门店信息，配置渠道商户（微信、支付宝、QQ 钱包）',
          });
        }
      });
    })();
  </script>
</dom-module>
