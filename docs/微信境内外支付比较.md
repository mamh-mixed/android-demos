
##提交刷卡支付##

接口地址都是: https://api.mch.weixin.qq.com/pay/micropay


####请求参数####
|名称|字段|境内|境外|
|:---|:---|:---|:---|
|公众账号ID|appid|T|T|
|商户号|mch_id|T|T|
|设备号|device_info|T|T|
|随机字符串|nonce_str|T|T|
|签名|sign|T|T|
|商品描述|body|T|T|
|商品详情|detail||T|
|附加数据|attach|T|T|
|商户订单号|out_trade_no|T|T|
|标价金额|total_fee|T|T|
|标价币种|fee_type||T|
|终端IP|spbill_create_ip|T|T|
|交易起始时间|time_start|T|T|
|交易失败时间|time_expire|T|T|
|商品标记|goods_tag|T|T|
|授权码|auth_code|T|T|

####返回参数####

境外比境内多了以下四个字断

以下字段在 return_code 和 result_code 都为 SUCCESS 的时候有返回

* 用户标识（openid）
* 用户支付标价币种（cash_fee_type）
* 用户支付金额（cash_fee）
* 代金券或立减优惠币种（coupon_fee_type）

##被扫订单查询 API##

接口地址都是： https://api.mch.weixin.qq.com/pay/orderquery

####请求参数####
两者一致

####返回参数####

1. 境内支付

	在 return_code 和 result_code 都为 SUCCESS 的时候有返回 `交易状态（trade_state）`

	当 trade_state 为 SUCCESS 或者 REFUND 的时候有返回以下字段

	* 设备号（device_info）
	* 用户标识（openid）
	......

2. 境外支付

	在 return_code 和 result_code 都为 SUCCESS 的时候有返回以下字段

	* 交易状态（trade_state）
	* 设备号（device_info）
	* 用户标识（openid）
	......


##申请退款##

接口地址都是： https://api.mch.weixin.qq.com/secapi/pay/refund


####请求参数####
两者一致

####返回参数####

境外支付接口比境内支付接口多了以下字段：
	
	* 退款标价币种（refund_fee_type）
	* 标价金额（total_fee）
	* 标价币种（fee_type）
	* 用户支付金额（cash_fee）
	* 用户支付标价币种（cash_fee_type）
	* 用户支付退款金额（cash_refund_fee）
	* 用户支付退款币种（cash_refund_fee_type）
	* 代金券或立减优惠退款数量（coupon_refund_count）
	* 代金券或立减优惠使用数量（coupon_count）
	* 代金券或立减优惠批次ID（coupon_batch_id_$n）
	* 代金券或立减优惠ID（coupon_id_$n）
	* 单个代金券或立减优惠支付金额（coupon_fee_$n）


##退款查询##

接口地址都是： https://api.mch.weixin.qq.com/pay/refundquery

####请求参数####

两者一致

####返回参数####

境外支付接口比境内支付接口多了以下字段：
	
	* 标价金额（total_fee）
	* 标价币种（fee_type）
	* 用户支付金额（cash_fee）
	* 用户支付标价币种（cash_fee_type）
	* 退款金额（refund_fee）
	* 汇率（rate）
	......

##撤销接口##

接口地址都是： https://api.mch.weixin.qq.com/secapi/pay/reverse

####请求参数####

两者一致

####返回参数####

两者一致

##下载对账单##

接口地址都是： https://api.mch.weixin.qq.com/pay/downloadbill

####请求参数####

两者一致

####返回参数####

两者一致

##接口调用上报接口##

接口地址都是： https://api.mch.weixin.qq.com/payitil/report

####请求参数####

注意：境内接口比境外接口多了以下字段
	
	* 子商户号（sub_mch_id）

####返回参数####

注意：境内接口比境外接口多了以下字段
	
	* 错误代码（err_code）
	* 错误代码描述（err_code_des）
	
##境外支付相对于境内支付新增的接口##

1. 支付结果通用通知
2. 查询已结算资金